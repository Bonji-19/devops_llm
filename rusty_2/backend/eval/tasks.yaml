# DevAgent Evaluation Tasks - Dog Game Focus
# Target Repository: DevOps_toanalyze
#
# Evaluation Framework (4 Success Criteria from Tutor Feedback):
# 1. Compile Check: Does the generated code compile/run successfully? (py_compile)
# 2. Test Suite: Does it pass the existing test suite? (pytest)
# 3. Behaviour: Does it solve the original task or bug description? (pattern matching + diff analysis)
# 4. Static Checks: Does it pass linters and SCA tools? (ruff/flake8)
#
# Task Categories (Code Quality Dimensions):
# - Type Safety: Type annotation bugs (Easy)
# - Logic Correctness: Game logic bugs, control flow errors (Medium)
# - Code Quality: Variable naming, dead code, redundant code (Easy)
# - Test Writing: Creating test files (Medium)
#
# Focus: Only Dog game (4_dog) tasks, as other games had no work done (per team feedback)

# ========================================
# DIMENSION 1: TYPE SAFETY (Easy)
# ========================================

# Task 001 - Dog get_fore_color Type Annotation Bug (Easy - Type Safety)
- id: task-001
  description: "Fix type annotation bug in 4_dog/src/py/game.py at line 10. The get_fore_color function returns a string (Fore.RED, Fore.GREEN, etc.) but is annotated as -> Fore. Change the return type annotation to -> str."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"

# Task 002 - Dog get_back_color Type Annotation Bug (Easy - Type Safety)
- id: task-002
  description: "Fix type annotation bug in 4_dog/src/py/game.py at line 26. The get_back_color function returns a string (Back.RED, Back.GREEN, etc.) but is annotated as -> Fore. Change the return type annotation to -> str."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"

# ========================================
# DIMENSION 2: LOGIC CORRECTNESS (Medium)
# ========================================

# Task 003 - Dog Card Recycling Bug (Medium - Logic Correctness)
- id: task-003
  description: "Fix card recycling bug in 4_dog/src/py/game.py at lines 779-787. The code creates a new deck instead of recycling discarded cards. Modify the logic to reuse cards from the discard pile instead of creating new ones."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"

# Task 004 - Dog Round Logic Bug (Medium - Logic Correctness)
- id: task-004
  description: "Fix round logic bug in 4_dog/src/py/game.py at lines 990-997. A new round can start before card exchange is complete. Add proper checks to ensure card exchange phase completes before starting a new round."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"

# Task 005 - Dog Mixed State References Bug (Medium - Logic Correctness)
- id: task-005
  description: "Fix inconsistent state reference bug in 4_dog/src/py/game.py at lines 794-796. The code modifies 'gaming_state.idx_player_active' but then checks 'self.game_state.idx_player_active', mixing two different state references. Change line 795 to use 'gaming_state.idx_player_active' for consistency."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"

# ========================================
# DIMENSION 3: CODE QUALITY (Easy)
# ========================================

# Task 006 - Dog Unused Loop Variable (Easy - Code Quality)
- id: task-006
  description: "Fix unused variable in 4_dog/src/py/game.py at line 293. The loop variable 'card' is never used in the loop body. Change 'for card in range(6):' to 'for _ in range(6):' to indicate the variable is intentionally unused."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"

# Task 007 - Dog Dead Code Removal (Easy - Code Quality)
- id: task-007
  description: "Remove dead code in 4_dog/src/py/game.py at line 780. There is commented-out code '#self.game_state.list_card_draw += self.game_state.list_card_discard' that should be removed. Delete the entire commented line."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"

# Task 008 - Dog Duplicate State Reset (Easy - Code Quality)
- id: task-008
  description: "Fix duplicate code in 4_dog/src/py/game.py where 'gaming_state.bool_card_exchanged = False' is set twice (lines 768 and 793). Remove the duplicate assignment at line 793 since it's already set at line 768."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"

# ========================================
# DIMENSION 4: TEST WRITING (Medium)
# ========================================
# Note: These tasks test the agent's ability to write tests, not fix bugs.
# Validation criteria (per Silvan's feedback):
# 1. Linter check: Does the test code pass ruff/flake8?
# 2. Test correctness: Does it test the right things with the right code?
# See TEST_VALIDATION_STRATEGY.md for detailed validation approach.

# Task 009 - Write Unit Tests for get_fore_color() (Easy - Test Writing)
- id: task-009
  description: "Write unit tests for the get_fore_color() function in 4_dog/src/py/game.py at line 10. Add tests to 4_dog/tests/test_game.py (or create test_colors.py) with test cases for each color mapping: red, green, yellow, blue, None, and invalid colors. Each test should verify the correct Fore constant is returned."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"

# ========================================
# DIMENSION 5: OPEN-ENDED REAL-WORLD SCENARIOS (Hard)
# ========================================
# Note: These tasks are intentionally less prescriptive (no exact line numbers).
# They simulate real bug reports and require the agent to investigate and locate issues.
# Per colleague feedback: "real life cases" that are more open-ended.

# Task 010 - Player Turn Increment Bug Report (Hard - Open-Ended Logic)
- id: task-010
  description: "Bug report from QA: During gameplay in the Dog game, we noticed that after incrementing the active player index, the code sometimes checks against the wrong game state object. This causes inconsistent behavior when wrapping around to player 0. The issue appears to be in the code that handles player turn rotation. Please investigate and fix the state reference inconsistency."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"

# Task 011 - Code Quality Issue from Code Review (Hard - Open-Ended Quality)
- id: task-011
  description: "Code review feedback: The Dog game implementation has several code quality issues that should be cleaned up: (1) There's a loop variable that's declared but never actually used in the loop body, (2) There's commented-out dead code that should be removed, and (3) There's a boolean flag being set to False in two different places when it only needs to be set once. Please find and fix these three code quality issues."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"

# Task 012 - Type Checker Errors (Hard - Open-Ended Type Safety)
- id: task-012
  description: "The static type checker is reporting errors in the color utility functions. It seems like some functions that return colorama string constants (like Fore.RED or Back.BLUE) have incorrect return type annotations. The type checker expects these functions to return strings, but they're annotated with the wrong types. Please locate and fix all type annotation bugs in the color-related helper functions."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"

# Task 013 - Game Logic Bug from User Report (Hard - Open-Ended Logic)
- id: task-013
  description: "User bug report: When playing the Dog game, we've noticed that sometimes a new round starts before all players have finished exchanging cards. The game should wait until the card exchange phase is complete before starting the next round. This seems to be a logic error in the round management code. Please investigate the round initialization logic and add proper validation to prevent this from happening."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"

# Task 014 - Card Management Performance Issue (Hard - Open-Ended Logic)
- id: task-014
  description: "Performance investigation: Players have reported that the Dog game seems to slow down during longer play sessions. After investigating, we suspect the issue is related to how cards are managed when the draw pile runs out. The current implementation might be creating entirely new card decks instead of properly recycling the discard pile. Please review the card management logic and optimize it to reuse discarded cards instead of creating new ones."
  repo_root: "/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
  git_mcp_url: "stdio:///opt/miniconda3/envs/rusty_2/bin/python:-m:mcp_server_git:--repository:/Users/thiloholstein/Desktop/HSLU/Semester 3/DevOps & LLMs/DevOps_toanalyze"
